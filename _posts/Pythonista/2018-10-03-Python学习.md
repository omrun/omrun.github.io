---
layout: post
title: Python学习
date: 2018-10-03 07:26:26 +0759
category: Pythonista
tags: [python]
---

![](/images/pythonista.png)

-  取中间字符串 getmiddlestr([字符串],[开始字符],[结尾字符])

```python
def getmidstr(content, startStr, endStr):
  try:
    startIndex = content.index(startStr)
    if startIndex >= 0 :
      startIndex += len(startStr)
      endIndex = content.find(endStr,startIndex)
      st=content[startIndex:endIndex]
    else:
      st=""
    return st
  except:
    return ""
```



- 取公网IP

```python
import urllib.request
# encoding = utf-8
def getip():
    page = urllib.request.urlopen('http://ip.3322.net', timeout=10)
    data = page.read()
    data = data.decode('utf8')
    if (data.count('.')!=3):
      page = urllib.request.urlopen('http://ip.cip.cc', timeout=10)
      data = page.read()
      data = data.decode('utf8')
```
       

       
- 取中间字符串 getmiddlestr([字符串],[开始字符],[结尾字符])

```python
def getmidstr(content, startStr, endStr):
     startIndex = content.index(startStr)
     if startIndex >= 0:
         startIndex += len(startStr)
     endIndex = content.index(endStr)
     return content[startIndex:endIndex]
return (getmidstr(data, "", "\n") )
```
